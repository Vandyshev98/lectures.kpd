ARP протокол
============

.. seealso::

    * https://ru.wikipedia.org/wiki/ARP

ARP (англ. Address Resolution Protocol — протокол определения адреса) — протокол в компьютерных сетях, предназначенный для определения MAC-адреса по известному IP-адресу.

Наибольшее распространение ARP получил благодаря повсеместности сетей IP, построенных поверх Ethernet, поскольку практически в 100 % случаев при таком сочетании используется ARP. В семействе протоколов IPv6 ARP не существует, его функции возложены на ICMPv6.

Сетевой коммутатор работает на 2-м уровне модели OSI.
Он хранит таблицу соответствий MAC и IP адресов.
Поэтому устройства соединенные в одну сеть могут находить друг друга
не используя 3-й (сетевой) уровень модели OSI, при помощи ARP протокола, что увеличивает производительность.

Примеры использования ARP
-------------------------

**arp -a** - отобразить таблицу соответствия IP и MAC адресов для данного компьютера.

**arp -s 192.168.1.1 00-08-00-62-F6-19** - добавить в таблицу ARP запись, задающую соответствие IP адреса 192.168.1.1 и физического адреса 00-08-00-62-F6-19

**arp -d 192.168.1.1** - удалить из таблицы ARP запись для IP-адреса 192.168.1.1

**arp -d 192.168.1.*** - удалить из таблицы ARP записи для диапазона IP-адресов 192.168.1.1 - 192.168.1.254

.. no-code-block:: bash

   $ arp 192.168.1.1 -i wlan0
   Адрес HW-тип HW-адрес Флаги Маска Интерфейс
   192.168.1.1              ether   00:24:b2:84:19:11   C                     wlan0

.. no-code-block:: bash

   $ arp -a
   ? (192.168.1.1) в 00:24:b2:84:19:22 [ether] на wlan0

.. no-code-block:: bash

   $ arping 192.168.1.1 -I wlan0
   ARPING 192.168.1.1 from 192.168.1.111 wlan0
   Unicast reply from 192.168.1.1 [00:24:B2:84:19:22]  5.818ms
   Unicast reply from 192.168.1.1 [00:24:B2:84:19:22]  2.514ms
   Unicast reply from 192.168.1.1 [00:24:B2:84:19:22]  3.455ms
   Unicast reply from 192.168.1.1 [00:24:B2:84:19:22]  4.055ms
   Unicast reply from 192.168.1.1 [00:24:B2:84:19:22]  2.620ms
   Unicast reply from 192.168.1.1 [00:24:B2:84:19:22]  86.315ms
   Unicast reply from 192.168.1.1 [00:24:B2:84:19:22]  2.895ms
   Unicast reply from 192.168.1.1 [00:24:B2:84:19:22]  23.011ms
   Unicast reply from 192.168.1.1 [00:24:B2:84:19:22]  46.878ms
   ^CSent 9 probes (1 broadcast(s))
   Received 9 response(s)
